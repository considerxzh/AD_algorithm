# 协同过滤

一般来说，协同过滤推荐分为三种类型。

- 第一种是**基于用户(user-based)的协同过滤**，

- 第二种是**基于项目(item-based)的协同过滤**，

- 第三种是**基于模型(model based)的协同过滤**。

### 基于用户(user-based)的协同过滤

基于用户(user-based)的协同过滤主要考虑的是用户和用户之间的相似度，只要找出相似用户喜欢的物品，并预测目标用户对对应物品的评分，就可以找到评分最高的若干个物品推荐给用户。难点在于：

- 



### 基于项目(item-based)的协同过滤

基于项目(item-based)的协同过滤主要是考虑物品与物品之间的相似度，只有找到了目标用户对某些物品的评分，那么我们就可以对相似度高的类似物品进行预测，将评分最高的若干个相似物品推荐给用户。

- 如何衡量相似性：

  > 通常做法是将用户的所有点击选取出来，喜欢两个物品的用户重合度越高，那么两个物品就越相似
  >
  > 物品 i 和 j 相似度计算公式：
  > $$
  > S_{ij}=\frac{|u(i)|\cap|u(j)|}{\sqrt[2]{|u(i)|\cup|u(j)|}}
  > $$
  > u(i)为对item i产生行为的用户集合
  >
  > user对item j的推荐得分为：
  >
  > ![https://img4.mukewang.com/5c3dcf9d000159fa03410099.jpg](https://img1.mukewang.com/5c3dcf9d000159fa03410099.jpg)
  >
  > N(u) : user行为过的item 的总数
  >
  > **r**ui: user对物品i的行为得分（比如电影评分系统中用户对电影的评分-->归一化0~1间的一个值）
  >
  > **S**ij :物品 i 和 j 的相似得分
  >
  > item i 是用户行为过的物品且是与item j 最相似的top k个 item （一般实战中选取50个）
  >
  > **公式升级**：
  >
  > 
  >
  > **1.理论意义：活跃用户应该被降低在相似度公式中的贡献度**
  >
  > ![https://img2.mukewang.com/5c3dd0ca0001325f03170115.jpg](https://img2.mukewang.com/5c3dd0ca0001325f03170115.jpg)
  >
  > N(u) : user行为过的item 的总数
  >
  > 每个用户对相似度的贡献不一样，活跃用户的贡献度降低
  >
  > **2.理论意义：用户在不同时间对item的操作应给予时间衰减惩罚（信息流）**
  >
  > **![https://img4.mukewang.com/5c3dd0f30001017203220248.jpg](https://img2.mukewang.com/5c3dd0f30001017203220248.jpg)**
  > $$
  > \vartriangle{t} 为用户对item(i)和item(j)行为的时间差异
  > $$
  > 

- 如何衡量喜欢

  > 信息流产品下，是否为真实点击 ，电商产品下，更看重实际转化 ==》一定时长的停留。故要结合具体的产品确定行为

### 基于模型(model-based)的协同过滤



